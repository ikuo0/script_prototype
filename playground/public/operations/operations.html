<h1>実行形式オペレーションコマンドの説明</h1>

---

# 命令リファレンス（Operations）

---

## `EXIT`

**概要**:  
プログラムの実行を即座に終了する。

**動作**:  
プログラムカウンタ `PC` をコマンドサイズ（終端）に設定することで、残りの命令をスキップし終了させる。

```javascript
runtimeCtx.PC = runtimeCtx.commandSize;
```

---

## `DATA`

**概要**:  
変数を新規に作成し、初期値を代入する。

**構文**:
```
DATA @変数名, 値
```

**動作**:
- `lhs`（左辺）が `@` で始まっていることを確認（変数であることの検証）
- `rhs`（右辺）の値を取得し、変数に代入

**例**:
```javascript
DATA @x, 5
```

---

## `MOV`

**概要**:  
既存の変数に値を代入する。`createVar` を `true` にすれば新規作成も可能。

**構文**:
```
MOV @変数名, 値
```

**動作**:
- 指定された変数に右辺の値を代入
- `createVar` により、変数の新規作成を許可するか制御可能

---

## `ADDVARIABLE`

**概要**:  
変数の値に加算を行う。

**構文**:
```
ADDVARIABLE @変数名, 値
```

**動作**:
- `@変数名` に格納されている値を取得
- 指定した値（右辺）を加算し、再び変数に格納する

**例**:
```javascript
ADDVARIABLE @count, 1
```

---

# スタック操作命令

---

## `PUSH`

**概要**:  
値をスタックの一番上に積む。

**構文**:
```
PUSH 値
```

**動作**:
- 値を評価し、スタックに `push`

**例**:
```javascript
PUSH 10
```

---

## `POP`

**概要**:  
スタックの一番上の値を取り出し、変数に代入する。

**構文**:
```
POP @変数名
```

**動作**:
- スタックの最上位から `pop` して、指定した変数に格納

---

## `PEEK`

**概要**:  
スタックの指定位置の値を参照し、変数に代入する（POP しない）。

**構文**:
```
PEEK @変数名, オフセット
```

**動作**:
- スタックの `tail(n)` 番目（下から数えて n 番目）の値を読み出し、指定変数に代入
- スタックには変更を加えない

---

## `POKE`

**概要**:  
スタックの指定位置に値を書き込む。

**構文**:
```
POKE オフセット, 値
```

**動作**:
- スタック末尾から数えて `offset + 1` 番目に、指定した値を書き込む

---
